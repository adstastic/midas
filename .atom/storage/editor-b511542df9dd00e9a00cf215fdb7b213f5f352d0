{"mode":"editor","version":1,"windowDimensions":{"x":1680,"y":-28,"width":1680,"height":1050,"maximized":true},"grammars":{"deserializer":"GrammarRegistry","grammarOverridesByPath":{}},"project":{"paths":["/cath/homes2/zcapamu/todomvc/examples/backbone_marionette"],"buffers":[{"text":"<!doctype html>\n<html lang=\"en\" data-framework=\"marionettejs\">\n\t<head>\n\t\t<meta charset=\"utf-8\">\n\t\t<title>Marionette â€¢ TodoMVC</title>\n\t\t<link rel=\"stylesheet\" href=\"node_modules/todomvc-app-css/index.css\">\n\t\t<link rel=\"stylesheet\" href=\"node_modules/todomvc-common/base.css\">\n\t\t<link rel=\"stylesheet\" href=\"css/app.css\">\n\t</head>\n\t<body>\n\t\t<section id=\"todoapp\">\n\t\t\t<header id=\"header\"></header>\n\t\t\t<section id=\"main\"></section>\n\t\t\t<footer id=\"footer\"></footer>\n\t\t</section>\n\t\t<footer id=\"info\">\n\t\t\t<p>Double-click to edit a todo</p>\n\t\t\t<p>\n\t\t\t\tCreated by <a href=\"http://github.com/jsoverson\">Jarrod Overson</a>\n\t\t\t\tand <a href=\"http://github.com/derickbailey\">Derick Bailey</a>\n\t\t\t\tusing <a href=\"http://marionettejs.com\">Backbone.Marionette</a>\n\t\t\t</p>\n\t\t\t<p>See who else is using marionette at <a href=\"http://marionettejs.com/\">marionettejs.com</a>.</p>\n\t\t</footer>\n\t\t<script type=\"text/html\" id=\"template-footer\">\n\t\t\t<span id=\"todo-count\">\n\t\t\t\t<strong><%= activeCount %></strong> <%= activeCountLabel() %>\n\t\t\t</span>\n\t\t\t<ul id=\"filters\">\n\t\t\t\t<li class=\"all\">\n\t\t\t\t\t<a href=\"#/\">All</a>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"active\">\n\t\t\t\t\t<a href=\"#/active\">Active</a>\n\t\t\t\t</li>\n\t\t\t\t<li class=\"completed\">\n\t\t\t\t\t<a href=\"#/completed\">Completed</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<button id=\"clear-completed\" <% if (!completedCount) { %>class=\"hidden\"<% } %>>Clear completed</button>\n\t\t</script>\n\t\t<script type=\"text/html\" id=\"template-header\">\n\t\t\t<h1>todos</h1>\n\t\t\t<input id=\"new-todo\" placeholder=\"What needs to be done?\" autofocus>\n\t\t</script>\n\t\t<script type=\"text/html\" id=\"template-todoItemView\">\n\t\t\t<div class=\"view\">\n\t\t\t\t<input class=\"toggle\" type=\"checkbox\" <% if (completed) { %>checked<% } %>>\n\t\t\t\t<label><%- title %></label>\n\t\t\t\t<button class=\"destroy\"></button>\n\t\t\t</div>\n\t\t\t<input class=\"edit\" value=\"<%- title %>\">\n\t\t</script>\n\t\t<script type=\"text/html\" id=\"template-todoListCompositeView\">\n\t\t\t<input id=\"toggle-all\" type=\"checkbox\">\n\t\t\t<label for=\"toggle-all\">Mark all as complete</label>\n\t\t\t<ul id=\"todo-list\"></ul>\n\t\t</script>\n\t\t<!-- vendor libraries -->\n\t\t<script src=\"node_modules/todomvc-common/base.js\"></script>\n\t\t<script src=\"node_modules/jquery/dist/jquery.js\"></script>\n\t\t<script src=\"node_modules/underscore/underscore.js\"></script>\n\t\t<script src=\"node_modules/backbone/backbone.js\"></script>\n\t\t<script src=\"node_modules/backbone.localstorage/backbone.localStorage.js\"></script>\n\t\t<script src=\"node_modules/backbone.marionette/lib/backbone.marionette.js\"></script>\n\t\t<script src=\"node_modules/backbone.radio/build/backbone.radio.js\"></script>\n\t\t<!-- application -->\n\t\t<script src=\"js/TodoMVC.Application.js\"></script>\n\t\t<script src=\"js/TodoMVC.Todos.js\"></script>\n\t\t<script src=\"js/TodoMVC.Layout.js\"></script>\n\t\t<script src=\"js/TodoMVC.TodoList.Views.js\"></script>\n\t\t<script src=\"js/TodoMVC.Router.js\"></script>\n\t\t<script src=\"js/TodoMVC.FilterState.js\"></script>\n\t\t<script src=\"js/TodoMVC.js\"></script>\n\t</body>\n</html>\n","markerStore":{"nextMarkerId":29,"markersById":{"0":{"range":{"start":{"row":45,"column":0},"end":{"row":46,"column":0}},"properties":{"type":"selection","editorId":16,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true},"11":{"range":{"start":{"row":29,"column":0},"end":{"row":31,"column":9}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"14":{"range":{"start":{"row":25,"column":0},"end":{"row":26,"column":65}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"16":{"range":{"start":{"row":17,"column":0},"end":{"row":20,"column":67}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"20":{"range":{"start":{"row":2,"column":0},"end":{"row":8,"column":8}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"21":{"range":{"start":{"row":15,"column":0},"end":{"row":23,"column":11}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"22":{"range":{"start":{"row":10,"column":0},"end":{"row":14,"column":12}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"24":{"range":{"start":{"row":28,"column":0},"end":{"row":38,"column":8}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"25":{"range":{"start":{"row":24,"column":0},"end":{"row":40,"column":11}},"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":4,"undoStack":[{"type":"checkpoint","id":2,"snapshot":{"0":{"range":[[41,2],[44,11]],"properties":{"type":"selection","editorId":16,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true},"11":{"range":[[29,0],[31,9]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"14":{"range":[[25,0],[26,65]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"16":{"range":[[17,0],[20,67]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"20":{"range":[[2,0],[8,8]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"21":{"range":[[15,0],[23,11]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"22":{"range":[[10,0],[14,12]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"24":{"range":[[28,0],[38,8]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"25":{"range":[[24,0],[40,11]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"26":{"range":[[45,0],[52,11]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true}}},{"type":"checkpoint","id":3,"snapshot":{"0":{"range":[[41,2],[44,11]],"properties":{"type":"selection","editorId":16,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true},"11":{"range":[[29,0],[31,9]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"14":{"range":[[25,0],[26,65]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"16":{"range":[[17,0],[20,67]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"20":{"range":[[2,0],[8,8]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"21":{"range":[[15,0],[23,11]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"22":{"range":[[10,0],[14,12]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"24":{"range":[[28,0],[38,8]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"25":{"range":[[24,0],[40,11]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"26":{"range":[[45,0],[52,11]],"properties":{"class":"fold","displayBufferId":17},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true}}}],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/index.html","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"b5b6c27376c95e709eb4cef27446601e8261b642","deserializer":"TextBuffer","version":2},{"text":"/*global Backbone, TodoMVC:true */\n\nvar TodoMVC = TodoMVC || {};\n\n(function () {\n\t'use strict';\n\n\tvar TodoApp = Backbone.Marionette.Application.extend({\n\t\tsetRootLayout: function () {\n\t\t\tthis.root = new TodoMVC.RootLayout();\n\t\t}\n\t});\n\n\t// The Application Object is responsible for kicking off\n\t// a Marionette application when its start function is called\n\t//\n\t// This application has a singler root Layout that is attached\n\t// before it is started.  Other system components can listen\n\t// for the application start event, and perform initialization\n\t// on that event\n\tTodoMVC.App = new TodoApp();\n\n\tTodoMVC.App.on('before:start', function () {\n\t\tTodoMVC.App.setRootLayout();\n\t});\n\n})();\n","markerStore":{"nextMarkerId":6,"markersById":{"0":{"range":{"start":{"row":20,"column":23},"end":{"row":20,"column":23}},"properties":{"type":"selection","editorId":20,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":12,"undoStack":[{"type":"checkpoint","id":10,"snapshot":{"0":{"range":[[0,2],[0,2]],"properties":{"type":"selection","editorId":20,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"2":{"range":[[0,0],[0,1]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true},"3":{"range":[[0,6],[0,7]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true},"4":{"range":[[0,17],[0,18]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true},"5":{"range":[[0,24],[0,25]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true}}},{"type":"checkpoint","id":11,"snapshot":{"0":{"range":[[0,2],[0,2]],"properties":{"type":"selection","editorId":20,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"2":{"range":[[0,0],[0,1]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true},"3":{"range":[[0,6],[0,7]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true},"4":{"range":[[0,17],[0,18]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true},"5":{"range":[[0,24],[0,25]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"inside","maintainHistory":true}}}],"redoStack":[{"type":"checkpoint","id":9,"snapshot":{"0":{"range":[[0,0],[0,0]],"properties":{"type":"selection","editorId":20,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"1":{"range":[[0,0],[1,0]],"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}}},{"type":"change","content":{"oldRange":[[0,0],[0,1]],"newRange":[[0,0],[0,0]],"oldText":"/","newText":""}},{"type":"change","content":{"oldRange":[[0,1],[0,2]],"newRange":[[0,1],[0,1]],"oldText":"*","newText":""}},{"type":"checkpoint","id":2,"snapshot":{"0":{"range":[[0,2],[0,2]],"properties":{"type":"selection","editorId":20,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}}}]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Application.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"8ea9d99d8ff63abf53918e3988a9d6cc10da9eb5","deserializer":"TextBuffer","version":2},{"text":"/*global Backbone */\n\n// This file acts as a Service, providing\n// the rest of the app access to the filter state\n// as needed, without them needing to know the implementation\n// details\n(function () {\n\t'use strict';\n\tvar filterState = new Backbone.Model({\n\t\tfilter: 'all'\n\t});\n\n\tvar filterChannel = Backbone.Radio.channel('filter');\n\tfilterChannel.reply('filterState', function () {\n\t\treturn filterState;\n\t});\n})();\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":17,"column":0},"end":{"row":17,"column":0}},"properties":{"type":"selection","editorId":32,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":2,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.FilterState.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"e285ea25a8c7e6480e5c4fb9799b53447af31f57","deserializer":"TextBuffer","version":2},{"text":"/*global Backbone, TodoMVC:true, $ */\n\nvar TodoMVC = TodoMVC || {};\n\n$(function () {\n\t'use strict';\n\n\t// After we initialize the app, we want to kick off the router\n\t// and controller, which will handle initializing our Views\n\tTodoMVC.App.on('start', function () {\n\t\tBackbone.history.start();\n\t\tvar controller = new TodoMVC.Controller();\n\t\tcontroller.router = new TodoMVC.Router({\n\t\t\tcontroller: controller\n\t\t});\n\n\t\tcontroller.start();\n\t});\n\n\t// start the TodoMVC app (defined in js/TodoMVC.js)\n\tTodoMVC.App.start();\n});\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":0,"column":0},"end":{"row":0,"column":0}},"properties":{"type":"selection","editorId":44},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":2,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"5fd1dfc66434b83358367a4c8afeb2015c2c040c","deserializer":"TextBuffer","version":2},{"text":"/*global TodoMVC:true, Backbone */\n\nvar TodoMVC = TodoMVC || {};\n\n(function () {\n\t'use strict';\n\n\tvar filterChannel = Backbone.Radio.channel('filter');\n\n\tTodoMVC.RootLayout = Backbone.Marionette.LayoutView.extend({\n\n\t\tel: '#todoapp',\n\n\t\tregions: {\n\t\t\theader: '#header',\n\t\t\tmain: '#main',\n\t\t\tfooter: '#footer'\n\t\t}\n\t});\n\n\t// Layout Header View\n\t// ------------------\n\tTodoMVC.HeaderLayout = Backbone.Marionette.ItemView.extend({\n\n\t\ttemplate: '#template-header',\n\n\t\t// UI bindings create cached attributes that\n\t\t// point to jQuery selected objects\n\t\tui: {\n\t\t\tinput: '#new-todo'\n\t\t},\n\n\t\tevents: {\n\t\t\t'keypress @ui.input': 'onInputKeypress',\n\t\t\t'keyup @ui.input': 'onInputKeyup'\n\t\t},\n\n\t\t// According to the spec\n\t\t// If escape is pressed during the edit, the edit state should be left and any changes be discarded.\n\t\tonInputKeyup: function (e) {\n\t\t\tvar ESC_KEY = 27;\n\n\t\t\tif (e.which === ESC_KEY) {\n\t\t\t\tthis.render();\n\t\t\t}\n\t\t},\n\n\t\tonInputKeypress: function (e) {\n\t\t\tvar ENTER_KEY = 13;\n\t\t\tvar todoText = this.ui.input.val().trim();\n\n\t\t\tif (e.which === ENTER_KEY && todoText) {\n\t\t\t\tthis.collection.create({\n\t\t\t\t\ttitle: todoText\n\t\t\t\t});\n\t\t\t\tthis.ui.input.val('');\n\t\t\t}\n\t\t}\n\t});\n\n\t// Layout Footer View\n\t// ------------------\n\tTodoMVC.FooterLayout = Backbone.Marionette.ItemView.extend({\n\t\ttemplate: '#template-footer',\n\n\t\t// UI bindings create cached attributes that\n\t\t// point to jQuery selected objects\n\t\tui: {\n\t\t\tfilters: '#filters a',\n\t\t\tcompleted: '.completed a',\n\t\t\tactive: '.active a',\n\t\t\tall: '.all a',\n\t\t\tsummary: '#todo-count',\n\t\t\tclear: '#clear-completed'\n\t\t},\n\n\t\tevents: {\n\t\t\t'click @ui.clear': 'onClearClick'\n\t\t},\n\n\t\tcollectionEvents: {\n\t\t\tall: 'render'\n\t\t},\n\n\t\ttemplateHelpers: {\n\t\t\tactiveCountLabel: function () {\n\t\t\t\treturn (this.activeCount === 1 ? 'item' : 'items') + ' left';\n\t\t\t}\n\t\t},\n\n\t\tinitialize: function () {\n\t\t\tthis.listenTo(filterChannel.request('filterState'), 'change:filter', this.updateFilterSelection, this);\n\t\t},\n\n\t\tserializeData: function () {\n\t\t\tvar active = this.collection.getActive().length;\n\t\t\tvar total = this.collection.length;\n\n\t\t\treturn {\n\t\t\t\tactiveCount: active,\n\t\t\t\ttotalCount: total,\n\t\t\t\tcompletedCount: total - active\n\t\t\t};\n\t\t},\n\n\t\tonRender: function () {\n\t\t\tthis.$el.parent().toggle(this.collection.length > 0);\n\t\t\tthis.updateFilterSelection();\n\t\t},\n\n\t\tupdateFilterSelection: function () {\n\t\t\tthis.ui.filters.removeClass('selected');\n\t\t\tthis.ui[filterChannel.request('filterState').get('filter')]\n\t\t\t.addClass('selected');\n\t\t},\n\n\t\tonClearClick: function () {\n\t\t\tvar completed = this.collection.getCompleted();\n\t\t\tcompleted.forEach(function (todo) {\n\t\t\t\ttodo.destroy();\n\t\t\t});\n\t\t}\n\t});\n})();\n","markerStore":{"nextMarkerId":14,"markersById":{"3":{"range":{"start":{"row":9,"column":13},"end":{"row":9,"column":13}},"properties":{"type":"selection","editorId":149,"goalScreenRange":null,"preserveFolds":true},"reversed":false,"tailed":true,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":2,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Layout.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"bc6cb39378918341daa75b8ec6a6efb3bf30e48a","deserializer":"TextBuffer","version":2},{"text":"/*global TodoMVC:true, Backbone, $ */\n\nvar TodoMVC = TodoMVC || {};\n\n(function () {\n\t'use strict';\n\n\tvar filterChannel = Backbone.Radio.channel('filter');\n\n\t// TodoList Router\n\t// ---------------\n\t//\n\t// Handles a single dynamic route to show\n\t// the active vs complete todo items\n\tTodoMVC.Router = Backbone.Marionette.AppRouter.extend({\n\t\tappRoutes: {\n\t\t\t'*filter': 'filterItems'\n\t\t}\n\t});\n\n\t// TodoList Controller (Mediator)\n\t// ------------------------------\n\t//\n\t// Control the workflow and logic that exists at the application\n\t// level, above the implementation detail of views and models\n\tTodoMVC.Controller = Backbone.Marionette.Object.extend({\n\n\t\tinitialize: function () {\n\t\t\tthis.todoList = new TodoMVC.TodoList();\n\t\t},\n\n\t\t// Start the app by showing the appropriate views\n\t\t// and fetching the list of todo items, if there are any\n\t\tstart: function () {\n\t\t\tthis.showHeader(this.todoList);\n\t\t\tthis.showFooter(this.todoList);\n\t\t\tthis.showTodoList(this.todoList);\n\t\t\tthis.todoList.on('all', this.updateHiddenElements, this);\n\t\t\tthis.todoList.fetch();\n\t\t},\n\n\t\tupdateHiddenElements: function () {\n\t\t\t$('#main, #footer').toggle(!!this.todoList.length);\n\t\t},\n\n\t\tshowHeader: function (todoList) {\n\t\t\tvar header = new TodoMVC.HeaderLayout({\n\t\t\t\tcollection: todoList\n\t\t\t});\n\t\t\tTodoMVC.App.root.showChildView('header', header);\n\t\t},\n\n\t\tshowFooter: function (todoList) {\n\t\t\tvar footer = new TodoMVC.FooterLayout({\n\t\t\t\tcollection: todoList\n\t\t\t});\n\t\t\tTodoMVC.App.root.showChildView('footer', footer);\n\t\t},\n\n\t\tshowTodoList: function (todoList) {\n\t\t\tTodoMVC.App.root.showChildView('main', new TodoMVC.ListView({\n\t\t\t\tcollection: todoList\n\t\t\t}));\n\t\t},\n\n\t\t// Set the filter to show complete or all items\n\t\tfilterItems: function (filter) {\n\t\t\tvar newFilter = filter && filter.trim() || 'all';\n\t\t\tfilterChannel.request('filterState').set('filter', newFilter);\n\t\t}\n\t});\n})();\n","markerStore":{"nextMarkerId":1,"markersById":{"0":{"range":{"start":{"row":50,"column":4},"end":{"row":50,"column":4}},"properties":{"type":"selection","editorId":217,"goalScreenRange":null},"reversed":true,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":2,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Router.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"69c3817c3914752a0774a6fce49d96cc296034b8","deserializer":"TextBuffer","version":2},{"text":"/*global TodoMVC: true, Backbone */\n\nvar TodoMVC = TodoMVC || {};\n\n(function () {\n\t'use strict';\n\n\tvar filterChannel = Backbone.Radio.channel('filter');\n\n\t// Todo List Item View\n\t// -------------------\n\t//\n\t// Display an individual todo item, and respond to changes\n\t// that are made to the item, including marking completed.\n\tTodoMVC.TodoView = Backbone.Marionette.ItemView.extend({\n\n\t\ttagName: 'li',\n\n\t\ttemplate: '#template-todoItemView',\n\n\t\tclassName: function () {\n\t\t\treturn this.model.get('completed') ? 'completed' : 'active';\n\t\t},\n\n\t\tui: {\n\t\t\tedit: '.edit',\n\t\t\tdestroy: '.destroy',\n\t\t\tlabel: 'label',\n\t\t\ttoggle: '.toggle'\n\t\t},\n\n\t\tevents: {\n\t\t\t'click @ui.destroy': 'deleteModel',\n\t\t\t'dblclick @ui.label': 'onEditClick',\n\t\t\t'keydown @ui.edit': 'onEditKeypress',\n\t\t\t'focusout @ui.edit': 'onEditFocusout',\n\t\t\t'click @ui.toggle': 'toggle'\n\t\t},\n\n\t\tmodelEvents: {\n\t\t\tchange: 'render'\n\t\t},\n\n\t\tdeleteModel: function () {\n\t\t\tthis.model.destroy();\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\tthis.model.toggle().save();\n\t\t},\n\n\t\tonEditClick: function () {\n\t\t\tthis.$el.addClass('editing');\n\t\t\tthis.ui.edit.focus();\n\t\t\tthis.ui.edit.val(this.ui.edit.val());\n\t\t},\n\n\t\tonEditFocusout: function () {\n\t\t\tvar todoText = this.ui.edit.val().trim();\n\t\t\tif (todoText) {\n\t\t\t\tthis.model.set('title', todoText).save();\n\t\t\t\tthis.$el.removeClass('editing');\n\t\t\t} else {\n\t\t\t\tthis.destroy();\n\t\t\t}\n\t\t},\n\n\t\tonEditKeypress: function (e) {\n\t\t\tvar ENTER_KEY = 13;\n\t\t\tvar ESC_KEY = 27;\n\n\t\t\tif (e.which === ENTER_KEY) {\n\t\t\t\tthis.onEditFocusout();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (e.which === ESC_KEY) {\n\t\t\t\tthis.ui.edit.val(this.model.get('title'));\n\t\t\t\tthis.$el.removeClass('editing');\n\t\t\t}\n\t\t}\n\t});\n\n\t// Item List View\n\t// --------------\n\t//\n\t// Controls the rendering of the list of items, including the\n\t// filtering of activs vs completed items for display.\n\tTodoMVC.ListView = Backbone.Marionette.CompositeView.extend({\n\n\t\ttemplate: '#template-todoListCompositeView',\n\n\t\tchildView: TodoMVC.TodoView,\n\n\t\tchildViewContainer: '#todo-list',\n\n\t\tui: {\n\t\t\ttoggle: '#toggle-all'\n\t\t},\n\n\t\tevents: {\n\t\t\t'click @ui.toggle': 'onToggleAllClick'\n\t\t},\n\n\t\tcollectionEvents: {\n\t\t\t'change:completed': 'render',\n\t\t\tall: 'setCheckAllState'\n\t\t},\n\n\t\tinitialize: function () {\n\t\t\tthis.listenTo(filterChannel.request('filterState'), 'change:filter', this.render, this);\n\t\t},\n\n\t\tfilter: function (child) {\n\t\t\tvar filteredOn = filterChannel.request('filterState').get('filter');\n\t\t\treturn child.matchesFilter(filteredOn);\n\t\t},\n\n\t\tsetCheckAllState: function () {\n\t\t\tfunction reduceCompleted(left, right) {\n\t\t\t\treturn left && right.get('completed');\n\t\t\t}\n\n\t\t\tvar allCompleted = this.collection.reduce(reduceCompleted, true);\n\t\t\tthis.ui.toggle.prop('checked', allCompleted);\n\t\t\tthis.$el.parent().toggle(!!this.collection.length);\n\t\t},\n\n\t\tonToggleAllClick: function (e) {\n\t\t\tvar isChecked = e.currentTarget.checked;\n\n\t\t\tthis.collection.each(function (todo) {\n\t\t\t\ttodo.save({ completed: isChecked });\n\t\t\t});\n\t\t}\n\t});\n})();\n","markerStore":{"nextMarkerId":7,"markersById":{"0":{"range":{"start":{"row":24,"column":7},"end":{"row":24,"column":7}},"properties":{"type":"selection","editorId":337,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"1":{"range":{"start":{"row":24,"column":6},"end":{"row":24,"column":7}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"2":{"range":{"start":{"row":29,"column":2},"end":{"row":29,"column":3}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"3":{"range":{"start":{"row":24,"column":6},"end":{"row":24,"column":7}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"4":{"range":{"start":{"row":29,"column":2},"end":{"row":29,"column":3}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"5":{"range":{"start":{"row":24,"column":6},"end":{"row":24,"column":7}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"6":{"range":{"start":{"row":29,"column":2},"end":{"row":29,"column":3}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":2,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.TodoList.Views.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"c805c7dc5f43360a06b4683ac3867e542db9dbe2","deserializer":"TextBuffer","version":2},{"text":"/*global Backbone, TodoMVC:true */\n\nvar TodoMVC = TodoMVC || {};\n\n(function () {\n\t'use strict';\n\n\t// Todo Model\n\t// ----------\n\tTodoMVC.Todo = Backbone.Model.extend({\n\t\tdefaults: {\n\t\t\ttitle: '',\n\t\t\tcompleted: false,\n\t\t\tcreated: 0\n\t\t},\n\n\t\tinitialize: function () {\n\t\t\tif (this.isNew()) {\n\t\t\t\tthis.set('created', Date.now());\n\t\t\t}\n\t\t},\n\n\t\ttoggle: function () {\n\t\t\treturn this.set('completed', !this.isCompleted());\n\t\t},\n\n\t\tisCompleted: function () {\n\t\t\treturn this.get('completed');\n\t\t},\n\n\t\tmatchesFilter: function (filter) {\n\t\t\tif (filter === 'all') {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (filter === 'active') {\n\t\t\t\treturn !this.isCompleted();\n\t\t\t}\n\n\t\t\treturn this.isCompleted();\n\t\t}\n\t});\n\n\t// Todo Collection\n\t// ---------------\n\tTodoMVC.TodoList = Backbone.Collection.extend({\n\t\tmodel: TodoMVC.Todo,\n\n\t\tlocalStorage: new Backbone.LocalStorage('todos-backbone-marionette'),\n\n\t\tcomparator: 'created',\n\n\t\tgetCompleted: function () {\n\t\t\treturn this.filter(this._isCompleted);\n\t\t},\n\n\t\tgetActive: function () {\n\t\t\treturn this.reject(this._isCompleted);\n\t\t},\n\n\t\t_isCompleted: function (todo) {\n\t\t\treturn todo.isCompleted();\n\t\t}\n\t});\n})();\n","markerStore":{"nextMarkerId":3,"markersById":{"0":{"range":{"start":{"row":10,"column":13},"end":{"row":10,"column":13}},"properties":{"type":"selection","editorId":349,"goalScreenRange":null},"reversed":false,"tailed":false,"valid":true,"invalidate":"never","maintainHistory":true},"1":{"range":{"start":{"row":10,"column":12},"end":{"row":10,"column":13}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true},"2":{"range":{"start":{"row":14,"column":2},"end":{"row":14,"column":3}},"properties":{},"reversed":false,"tailed":true,"valid":true,"invalidate":"overlap","maintainHistory":true}},"version":2},"history":{"version":2,"nextCheckpointId":2,"undoStack":[],"redoStack":[]},"encoding":"utf8","filePath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Todos.js","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"37d1c3519cb0be403b77e818a53d7caeb2ff22cf","deserializer":"TextBuffer","version":2}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"children":[{"id":3,"items":[{"id":16,"softTabs":false,"displayBuffer":{"id":17,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/index.html","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":20,"softTabs":false,"displayBuffer":{"id":21,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Application.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":32,"softTabs":false,"displayBuffer":{"id":33,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.FilterState.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":44,"softTabs":false,"displayBuffer":{"id":45,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":337,"softTabs":false,"displayBuffer":{"id":338,"softWrapped":false,"scrollTop":38,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.TodoList.Views.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":349,"softTabs":false,"displayBuffer":{"id":350,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Todos.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.TodoList.Views.js","focused":false,"flexScale":1,"deserializer":"Pane"},{"id":152,"items":[{"id":149,"softTabs":false,"displayBuffer":{"id":148,"softWrapped":false,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Layout.js","tabLength":2,"largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"},{"id":217,"softTabs":false,"displayBuffer":{"id":218,"softWrapped":false,"scrollTop":384,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Router.js","largeFileMode":false,"deserializer":"TokenizedBuffer"},"largeFileMode":false,"deserializer":"DisplayBuffer"},"deserializer":"TextEditor"}],"activeItemURI":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Router.js","focused":true,"flexScale":1,"deserializer":"Pane"}],"orientation":"horizontal","flexScale":1,"deserializer":"PaneAxis"},"activePaneId":152,"deserializer":"PaneContainer","version":1},"fullScreen":false,"packagesWithActiveGrammars":["language-html","language-javascript","language-hyperlink","language-todo"],"deserializer":"Workspace"},"packageStates":{"linter":{"scope":"File"},"find-and-replace":{"viewState":"","modelState":{"useRegex":false,"inCurrentSelection":false,"caseSensitive":false,"wholeWord":false},"projectViewState":"","resultsModelState":{"useRegex":false,"caseSensitive":false},"findHistory":["LayoutView"],"replaceHistory":[],"pathsHistory":[]},"fuzzy-finder":{"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/index.html":1443111095664,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Application.js":1443109721568,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.FilterState.js":1443109720699,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.js":1443109840030,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.TodoList.Views.js":1443111199802,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Todos.js":1443111198837,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Layout.js":1443109780149,"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Router.js":1443110120110},"keybinding-resolver":{},"metrics":{"sessionLength":249008900},"tabs":[{},{}],"tree-view":{"directoryExpansionStates":{"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette":{"isExpanded":true,"entries":{"css":{"isExpanded":false,"entries":{}},"js":{"isExpanded":true,"entries":{}},"node_modules":{"isExpanded":false,"entries":{}}}}},"selectedPath":"/cath/homes2/zcapamu/todomvc/examples/backbone_marionette/js/TodoMVC.Router.js","hasFocus":false,"attached":false,"scrollLeft":0,"scrollTop":0,"width":0}}}